#js学习笔记

- if中用赋值（大部分是误用）并非总是返回真值，条件判断赋值内容Boolen后为假即判断为假：`if(a = false){...}`。

- JS性能
    - 平稳退化：当浏览器不支持或禁用了JS功能后，访问者也能完成最基本的内容访问。
        - 为JS代码预留出退路（html标签添加属性链接，用js事件绑定去拦截浏览器默认行为）
            >`<a href="真实地址" class="j-func">...</a>`

        - ~~伪协议(javascript:)~~
            >`<a href="javascript: func();">...</a>`

        - ~~内嵌事件处理函数~~
            >`<a href="#" onclick="func();return false;">...</a>`

    - 渐进增强：对具体某功能支持的判断，并向后兼容，用一些额外信息层去包裹原始内容。
    - 向后兼容：确保老版本浏览器功能，使之虽不能支持某些功能，但仍能基本访问。
        - 对象检测：`if(func){func();}`
        - ~~浏览器嗅探技术~~
    - 资源分离：把样式表和脚本分离出html。
        - 使用外部资源。
        - 不在html上用事件处理函数。
        - 对只为DOM增添的内容，转移到外部资源中动态创建。
    - 性能提升。
        - 减少访问DOM（搜索结果保存在变量中）。
        - 减少外链请求数量（合并js、css、图片）。
        - 压缩资源。
        - 脚本放置在`</body>`前。

- DOM加载步骤、jQuery的文档ready事件和js的onload事件顺序
    1. 解析Html结构
    2. 加载外部脚本和样式表文件
    3. 解析并执行脚本代码
    4. 构造Html DOM模型 ->完成后执行`$(document).ready(function(){});`
    5. 加载图片等外部文件
    6. 页面加载完毕 -> 完成后执行`window.onload();`

- 构造函数中的变量

    new一个构造函数,得到的对象拥有构造函数内用`this`定义的属性(或方法),在构造函数内的`var`变量无法被这个对象使用,只能在构造函数里使用(类似私有变量).
